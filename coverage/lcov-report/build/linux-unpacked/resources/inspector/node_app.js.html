<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for build/linux-unpacked/resources/inspector/node_app.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../index.html">All files</a> / <a href="index.html">build/linux-unpacked/resources/inspector</a> node_app.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/118</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/16</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/26</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/24</span>
      </div>
    </div>
    <p class="quiet">
      Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
    </p>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a>
<a name='L2'></a><a href='#L2'>2</a>
<a name='L3'></a><a href='#L3'>3</a>
<a name='L4'></a><a href='#L4'>4</a>
<a name='L5'></a><a href='#L5'>5</a>
<a name='L6'></a><a href='#L6'>6</a>
<a name='L7'></a><a href='#L7'>7</a>
<a name='L8'></a><a href='#L8'>8</a>
<a name='L9'></a><a href='#L9'>9</a>
<a name='L10'></a><a href='#L10'>10</a>
<a name='L11'></a><a href='#L11'>11</a>
<a name='L12'></a><a href='#L12'>12</a>
<a name='L13'></a><a href='#L13'>13</a>
<a name='L14'></a><a href='#L14'>14</a>
<a name='L15'></a><a href='#L15'>15</a>
<a name='L16'></a><a href='#L16'>16</a>
<a name='L17'></a><a href='#L17'>17</a>
<a name='L18'></a><a href='#L18'>18</a>
<a name='L19'></a><a href='#L19'>19</a>
<a name='L20'></a><a href='#L20'>20</a>
<a name='L21'></a><a href='#L21'>21</a>
<a name='L22'></a><a href='#L22'>22</a>
<a name='L23'></a><a href='#L23'>23</a>
<a name='L24'></a><a href='#L24'>24</a>
<a name='L25'></a><a href='#L25'>25</a>
<a name='L26'></a><a href='#L26'>26</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >allDescriptors.push(...[{"dependencies":["sources"],"extensions":[{"title":"Node","id":"navigator-network","className":"Sources.NetworkNavigatorView","location":"navigator-view","type":"view","order":2,"persistence":"permanent"}],"name":"node_debugger"},{"dependencies":["profiler"],"extensions":[{"title":"Profiler","id":"js_profiler","className":"Profiler.JSProfilerPanel","location":"panel","type":"view","order":65}],"name":"js_profiler"},{"dependencies":["platform","ui","host","components"],"extensions":[{"className":"NodeMain.NodeMain","type":"early-initialization"},{"title":"Connection","tags":"node","id":"node-connection","className":"NodeMain.NodeConnectionsPanel","location":"panel","type":"view","order":0}],"name":"node_main"}]);<span class="cstat-no" title="statement not covered" >a</span>pplicationDescriptor.modules.push(...[{"name":"node_debugger"},{"name":"js_profiler"},{"type":"autostart","name":"node_main"}])</span>
<span class="cstat-no" title="statement not covered" >self['NodeMain']=self['NodeMain']||{};<span class="cstat-no" title="statement not covered" >N</span>odeMain.NodeConnectionsPanel=class extends UI.Panel{<span class="fstat-no" title="function not covered" >co</span>nstructor(){<span class="cstat-no" title="statement not covered" >super('node-connection');<span class="cstat-no" title="statement not covered" >t</span>his.registerRequiredCSS('node_main/nodeConnectionsPanel.css');<span class="cstat-no" title="statement not covered" >t</span>his.contentElement.classList.add('node-panel');c</span>onst container=<span class="cstat-no" title="statement not covered" >this.contentElement.createChild('div','node-panel-center');</span>const image=<span class="cstat-no" title="statement not covered" >container.createChild('img','node-panel-logo');<span class="cstat-no" title="statement not covered" ></span>image.src='https://nodejs.org/static/images/logos/nodejs-new-pantone-black.png';<span class="cstat-no" title="statement not covered" >I</span>nspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.DevicesDiscoveryConfigChanged,this._devicesDiscoveryConfigChanged,this);<span class="cstat-no" title="statement not covered" >t</span>his._config;<span class="cstat-no" title="statement not covered" >t</span>his.contentElement.tabIndex=0;<span class="cstat-no" title="statement not covered" >t</span>his.setDefaultFocusedElement(this.contentElement);<span class="cstat-no" title="statement not covered" >I</span>nspectorFrontendHost.setDevicesUpdatesEnabled(false);<span class="cstat-no" title="statement not covered" >I</span>nspectorFrontendHost.setDevicesUpdatesEnabled(true);<span class="cstat-no" title="statement not covered" >t</span>his._networkDiscoveryView=new NodeMain.NodeConnectionsView(<span class="fstat-no" title="function not covered" >co</span>nfig=&gt;{<span class="cstat-no" title="statement not covered" >this._config.networkDiscoveryConfig=config;<span class="cstat-no" title="statement not covered" >I</span>nspectorFrontendHost.setDevicesDiscoveryConfig(this._config);}</span>);<span class="cstat-no" title="statement not covered" >t</span>his._networkDiscoveryView.show(container);}</span></span>
<span class="fstat-no" title="function not covered" >_d</span>evicesDiscoveryConfigChanged(event){<span class="cstat-no" title="statement not covered" >this._config=(event.data);<span class="cstat-no" title="statement not covered" >t</span>his._networkDiscoveryView.discoveryConfigChanged(this._config.networkDiscoveryConfig);}</span>};<span class="cstat-no" title="statement not covered" >NodeMain.NodeConnectionsView=class extends UI.VBox{<span class="fstat-no" title="function not covered" >co</span>nstructor(callback){<span class="cstat-no" title="statement not covered" >super();<span class="cstat-no" title="statement not covered" >t</span>his._callback=callback;<span class="cstat-no" title="statement not covered" >t</span>his.element.classList.add('network-discovery-view');c</span>onst networkDiscoveryFooter=<span class="cstat-no" title="statement not covered" >this.element.createChild('div','network-discovery-footer');<span class="cstat-no" title="statement not covered" ></span>networkDiscoveryFooter.createChild('span').textContent=Common.UIString('Specify network endpoint and DevTools will connect to it automatically. ');c</span>onst link=<span class="cstat-no" title="statement not covered" >networkDiscoveryFooter.createChild('span','link');<span class="cstat-no" title="statement not covered" ></span>link.textContent=Common.UIString('Learn more');<span class="cstat-no" title="statement not covered" >l</span>ink.addEventListener('click',<span class="fstat-no" title="function not covered" >()</span>=&gt;<span class="cstat-no" title="statement not covered" >InspectorFrontendHost.openInNewTab('https://nodejs.org/en/docs/inspector/'))</span>;<span class="cstat-no" title="statement not covered" >t</span>his._list=new UI.ListWidget(this);<span class="cstat-no" title="statement not covered" >t</span>his._list.registerRequiredCSS('node_main/nodeConnectionsPanel.css');<span class="cstat-no" title="statement not covered" >t</span>his._list.element.classList.add('network-discovery-list');c</span>onst placeholder=<span class="cstat-no" title="statement not covered" >createElementWithClass('div','network-discovery-list-empty');<span class="cstat-no" title="statement not covered" ></span>placeholder.textContent=Common.UIString('No connections specified');<span class="cstat-no" title="statement not covered" >t</span>his._list.setEmptyPlaceholder(placeholder);<span class="cstat-no" title="statement not covered" >t</span>his._list.show(this.element);<span class="cstat-no" title="statement not covered" >t</span>his._editor=null;c</span>onst addButton=<span class="cstat-no" title="statement not covered" >UI.createTextButton(Common.UIString('Add connection'),this._addNetworkTargetButtonClicked.bind(this),'add-network-target-button',true);<span class="cstat-no" title="statement not covered" ></span>this.element.appendChild(addButton);<span class="cstat-no" title="statement not covered" >t</span>his._networkDiscoveryConfig=[];<span class="cstat-no" title="statement not covered" >t</span>his.element.classList.add('node-frontend');}</span></span>
<span class="fstat-no" title="function not covered" >_u</span>pdate(){const config=<span class="cstat-no" title="statement not covered" >this._networkDiscoveryConfig.map(<span class="fstat-no" title="function not covered" >it</span>em=&gt;<span class="cstat-no" title="statement not covered" >item.address)</span>;<span class="cstat-no" title="statement not covered" ></span>this._callback.call(null,config);}</span>
<span class="fstat-no" title="function not covered" >_a</span>ddNetworkTargetButtonClicked(){<span class="cstat-no" title="statement not covered" >this._list.addNewItem(this._networkDiscoveryConfig.length,{address:'',port:''});}</span>
<span class="fstat-no" title="function not covered" >di</span>scoveryConfigChanged(networkDiscoveryConfig){<span class="cstat-no" title="statement not covered" >this._networkDiscoveryConfig=[];<span class="cstat-no" title="statement not covered" >t</span>his._list.clear();<span class="cstat-no" title="statement not covered" >f</span>or(const address of networkDiscoveryConfig){const item=<span class="cstat-no" title="statement not covered" >{address:address,port:''};<span class="cstat-no" title="statement not covered" ></span>this._networkDiscoveryConfig.push(item);<span class="cstat-no" title="statement not covered" >t</span>his._list.appendItem(item,true);}</span>}</span>
<span class="fstat-no" title="function not covered" >re</span>nderItem(rule,editable){const element=<span class="cstat-no" title="statement not covered" >createElementWithClass('div','network-discovery-list-item');<span class="cstat-no" title="statement not covered" ></span>element.createChild('div','network-discovery-value network-discovery-address').textContent=rule.address;<span class="cstat-no" title="statement not covered" >r</span>eturn element;}</span>
<span class="fstat-no" title="function not covered" >re</span>moveItemRequested(rule,index){<span class="cstat-no" title="statement not covered" >this._networkDiscoveryConfig.splice(index,1);<span class="cstat-no" title="statement not covered" >t</span>his._list.removeItem(index);<span class="cstat-no" title="statement not covered" >t</span>his._update();}</span>
<span class="fstat-no" title="function not covered" >co</span>mmitEdit(rule,editor,isNew){<span class="cstat-no" title="statement not covered" >rule.address=editor.control('address').value.trim();<span class="cstat-no" title="statement not covered" >i</span>f(isNew)</span>
<span class="cstat-no" title="statement not covered" >this._networkDiscoveryConfig.push(rule);<span class="cstat-no" title="statement not covered" >t</span>his._update();}</span>
<span class="fstat-no" title="function not covered" >be</span>ginEdit(rule){const editor=<span class="cstat-no" title="statement not covered" >this._createEditor();<span class="cstat-no" title="statement not covered" ></span>editor.control('address').value=rule.address;<span class="cstat-no" title="statement not covered" >r</span>eturn editor;}</span>
<span class="fstat-no" title="function not covered" >_c</span>reateEditor(){<span class="cstat-no" title="statement not covered" >if(this._editor)</span>
<span class="cstat-no" title="statement not covered" >return this._editor;c</span>onst editor=<span class="cstat-no" title="statement not covered" >new UI.ListWidget.Editor();<span class="cstat-no" title="statement not covered" ></span>this._editor=editor;c</span>onst content=<span class="cstat-no" title="statement not covered" >editor.contentElement();</span>const fields=<span class="cstat-no" title="statement not covered" >content.createChild('div','network-discovery-edit-row');</span>const input=<span class="cstat-no" title="statement not covered" >editor.createInput('address','text','Network address (e.g. localhost:9229)',addressValidator);<span class="cstat-no" title="statement not covered" ></span>fields.createChild('div','network-discovery-value network-discovery-address').appendChild(input);<span class="cstat-no" title="statement not covered" >r</span>eturn editor;f</span>unction <span class="fstat-no" title="function not covered" >addressValidator(</span>rule,index,input){const match=<span class="cstat-no" title="statement not covered" >input.value.trim().match(/^([a-zA-Z0-9\.\-_]+):(\d+)$/);<span class="cstat-no" title="statement not covered" ></span>if(!match)</span>
<span class="cstat-no" title="statement not covered" >return false;c</span>onst port=<span class="cstat-no" title="statement not covered" >parseInt(match[2],10);<span class="cstat-no" title="statement not covered" ></span>return port&lt;=65535;}</span>}};;<span class="cstat-no" title="statement not covered" >NodeMain.NodeMain=class extends Common.Object{<span class="fstat-no" title="function not covered" >ru</span>n(){<span class="cstat-no" title="statement not covered" >Host.userMetrics.actionTaken(Host.UserMetrics.Action.ConnectToNodeJSFromFrontend);<span class="cstat-no" title="statement not covered" >S</span>DK.initMainConnection(<span class="fstat-no" title="function not covered" >()</span>=&gt;{const target=<span class="cstat-no" title="statement not covered" >SDK.targetManager.createTarget('main',Common.UIString('Main'),SDK.Target.Type.Browser,null);<span class="cstat-no" title="statement not covered" ></span>target.setInspectedURL('Node.js');}</span>,Components.TargetDetachedDialog.webSocketConnectionLost);}</span>};<span class="cstat-no" title="statement not covered" >N</span>odeMain.NodeChildTargetManager=class extends SDK.SDKModel{<span class="fstat-no" title="function not covered" >co</span>nstructor(parentTarget){<span class="cstat-no" title="statement not covered" >super(parentTarget);<span class="cstat-no" title="statement not covered" >t</span>his._targetManager=parentTarget.targetManager();<span class="cstat-no" title="statement not covered" >t</span>his._parentTarget=parentTarget;<span class="cstat-no" title="statement not covered" >t</span>his._targetAgent=parentTarget.targetAgent();<span class="cstat-no" title="statement not covered" >t</span>his._childTargets=new Map();<span class="cstat-no" title="statement not covered" >p</span>arentTarget.registerTargetDispatcher(this);<span class="cstat-no" title="statement not covered" >t</span>his._targetAgent.setDiscoverTargets(true);<span class="cstat-no" title="statement not covered" >I</span>nspectorFrontendHost.events.addEventListener(InspectorFrontendHostAPI.Events.DevicesDiscoveryConfigChanged,this._devicesDiscoveryConfigChanged,this);<span class="cstat-no" title="statement not covered" >I</span>nspectorFrontendHost.setDevicesUpdatesEnabled(false);<span class="cstat-no" title="statement not covered" >I</span>nspectorFrontendHost.setDevicesUpdatesEnabled(true);}</span></span>
<span class="fstat-no" title="function not covered" >_d</span>evicesDiscoveryConfigChanged(event){const config=(<span class="cstat-no" title="statement not covered" >event.data)</span>;const locations=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>for(const address of config.networkDiscoveryConfig){const parts=<span class="cstat-no" title="statement not covered" >address.split(':');</span>const port=<span class="cstat-no" title="statement not covered" >parseInt(parts[1],10);<span class="cstat-no" title="statement not covered" ></span>if(parts[0]&amp;&amp;port)</span></span>
<span class="cstat-no" title="statement not covered" >locations.push({host:parts[0],port:port});}</span>
<span class="cstat-no" title="statement not covered" >this._targetAgent.setRemoteLocations(locations);}</span>
<span class="fstat-no" title="function not covered" >di</span>spose(){<span class="cstat-no" title="statement not covered" >InspectorFrontendHost.events.removeEventListener(InspectorFrontendHostAPI.Events.DevicesDiscoveryConfigChanged,this._devicesDiscoveryConfigChanged,this);<span class="cstat-no" title="statement not covered" >f</span>or(const sessionId of this._childTargets.keys())</span>
<span class="cstat-no" title="statement not covered" >this.detachedFromTarget(sessionId,undefined);}</span>
<span class="fstat-no" title="function not covered" >ta</span>rgetCreated(targetInfo){<span class="cstat-no" title="statement not covered" >if(targetInfo.type==='node'&amp;&amp;!targetInfo.attached)</span>
<span class="cstat-no" title="statement not covered" >this._targetAgent.attachToTarget(targetInfo.targetId,true);}</span>
<span class="fstat-no" title="function not covered" >ta</span>rgetInfoChanged(targetInfo){}
<span class="fstat-no" title="function not covered" >ta</span>rgetDestroyed(targetId){}
<span class="fstat-no" title="function not covered" >at</span>tachedToTarget(sessionId,targetInfo,waitingForDebugger){const name=<span class="cstat-no" title="statement not covered" >ls`Node.js: ${targetInfo.url}`;</span>const target=<span class="cstat-no" title="statement not covered" >this._targetManager.createTarget(targetInfo.targetId,name,SDK.Target.Type.Node,this._parentTarget,sessionId);<span class="cstat-no" title="statement not covered" ></span>this._childTargets.set(sessionId,target);<span class="cstat-no" title="statement not covered" >t</span>arget.runtimeAgent().runIfWaitingForDebugger();}</span>
<span class="fstat-no" title="function not covered" >de</span>tachedFromTarget(sessionId,childTargetId){<span class="cstat-no" title="statement not covered" >this._childTargets.get(sessionId).dispose('target terminated');<span class="cstat-no" title="statement not covered" >t</span>his._childTargets.delete(sessionId);}</span>
<span class="fstat-no" title="function not covered" >re</span>ceivedMessageFromTarget(sessionId,message,childTargetId){}};<span class="cstat-no" title="statement not covered" >SDK.SDKModel.register(NodeMain.NodeChildTargetManager,SDK.Target.Capability.Target,true);;</span>;<span class="cstat-no" title="statement not covered" >Runtime.cachedResources["node_main/nodeConnectionsPanel.css"]="/*\n * Copyright (c) 2015 The Chromium Authors. All rights reserved.\n * Use of this source code is governed by a BSD-style license that can be\n * found in the LICENSE file.\n */\n\n.network-discovery-header {\n    display: flex;\n    align-items: center;\n    flex-direction: row;\n    margin-top: 5px;\n}\n\n.add-network-target-button {\n    margin: 10px 25px;\n    align-self: flex-start;\n}\n\n.network-discovery-list {\n    margin: 10px 0 0 25px;\n    max-width: 500px;\n    flex: none;\n}\n\n.network-discovery-list-empty {\n    flex: auto;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.network-discovery-list-item {\n    padding: 3px 5px 3px 5px;\n    height: 30px;\n    display: flex;\n    align-items: center;\n    position: relative;\n    flex: auto 1 1;\n}\n\n.list-item .network-discovery-value {\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    -webkit-user-select: none;\n    color: #222;\n    overflow: hidden;\n}\n\n.network-discovery-value {\n    flex: 3 1 0;\n}\n\n.network-discovery-edit-row {\n    flex: none;\n    display: flex;\n    flex-direction: row;\n    margin: 6px 5px;\n    align-items: center;\n}\n\n.network-discovery-edit-row input {\n    width: 100%;\n    text-align: inherit;\n}\n\n.network-discovery-footer {\n    overflow: hidden;\n    margin: 15px 0 0 25px;\n    max-width: 500px;\n}\n\n.network-discovery-footer &gt; * {\n    white-space: pre-wrap;\n}\n\n.network-discovery-header {\n    display: none;\n}\n\n.node-panel {\n    align-items: center;\n    justify-content: flex-start;\n}\n\n.network-discovery-view {\n    min-width: 400px;\n    flex: auto;\n}\n\n.add-network-target-button {\n    align-self: center;\n}\n\n:host-context(.node-frontend) .network-discovery-list-empty {\n    height: 40px;\n}\n\n:host-context(.node-frontend) .network-discovery-list-item {\n    padding: 3px 15px;\n    height: 40px;\n}\n\n.network-discovery-list {\n    margin: 20px 0 5px 0;\n    max-width: 600px;\n    max-height: 202px;\n}\n\n.network-discovery-footer {\n    margin: 0;\n}\n\n.node-panel-center {\n    display: flex;\n    align-items: stretch;\n    justify-content: center;\n    max-width: 600px;\n    flex-direction: column;\n    padding-top: 50px;\n}\n\n.node-panel-logo {\n    align-self: center;\n    width: 400px;\n    margin-bottom: 50px;\n    flex: none;\n}\n\n:host-context(.node-frontend) .network-discovery-edit-row input {\n    height: 30px;\n    padding-left: 5px;\n}\n\n:host-context(.node-frontend) .network-discovery-edit-row {\n    margin: 6px 9px;\n}\n\n/*# sourceURL=node_main/nodeConnectionsPanel.css */";</span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Wed May 15 2019 19:04:04 GMT+0800 (China Standard Time)
</div>
</div>
<script src="../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../sorter.js"></script>
<script src="../../../../block-navigation.js"></script>
</body>
</html>
